<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Contact | Dan Ferro</title>
  <link rel="stylesheet" href="css/styles.css" />
</head>

<body>
  <header class="site-header">
    <div class="container">
      <nav class="nav">
        <a class="brand" href="index.html">
          <span class="brand-dot"></span>
          <span>Dan Ferro</span>
        </a>
        <div class="nav-links">
          <a href="index.html">Home</a>
          <a href="projects.html">Projects</a>
          <a href="about.html">About</a>
          <a href="resume.html">Resume</a>
          <a href="contact.html">Contact</a>
        </div>
      </nav>
    </div>
  </header>

  <main>
    <section class="section">
      <div class="container">
        <div class="kicker">Contact</div>
        <h1>Contact</h1>
        <p>
          Email is the best way to reach me. Use the button below or send a quick message.
        </p>

        <div class="grid" style="margin-top: 18px;">
          <div class="col-6">
            <div class="card">
              <div class="card-pad">
                <h2>Email</h2>
                <p>
                  For opportunities, questions, or project inquiries, feel free to contact me directly.
                </p>

                <div class="btn-row" style="flex-wrap: wrap; gap: 10px;">
                  <a class="btn primary" id="emailBtn" href="mailto:ferro.t.dan@gmail.com">Email me</a>
                  <a class="btn" id="gmailBtn" target="_blank" rel="noopener"
                     href="https://mail.google.com/mail/?view=cm&fs=1&to=ferro.t.dan@gmail.com">Open in Gmail</a>
                  <button class="btn" type="button" id="copyEmailBtn">Copy email</button>
                </div>

                <p style="margin-top: 10px;">
                  <small>Email:</small>
                  <code id="emailText" style="color: var(--text);">ferro.t.dan@gmail.com</code>
                </p>
                <p style="margin-top: 10px;">
                  <small>Phone:</small>
                  <code id="phoneText" style="color: var(--text);">262 389 8886</code>
                </p>

                <div class="btn-row" style="margin-top: 6px; flex-wrap: wrap; gap: 10px;">
                  <button class="btn" type="button" id="copyPhoneBtn">Copy phone</button>
                </div>
              </div>
            </div>
          </div>
          <div class="col-6">
            <div class="card">
              <div class="card-pad">
                <h2>Quick message</h2>
                <p>
                  Sends a message directly from this page (no mail app required).
                </p>

                <form class="form" id="contactForm" action="https://formspree.io/f/xnjnebgj" method="POST">
                  <input class="input" name="name" id="name" type="text" placeholder="Your name" required />
                  <input class="input" name="email" id="fromEmail" type="email" placeholder="Your email" required />
                  <textarea class="input" name="message" id="message" placeholder="Your message" rows="5" required></textarea>
                  <input type="hidden" name="_subject" value="Portfolio inquiry" />

                  <div class="btn-row" style="margin-top: 10px; flex-wrap: wrap; gap: 10px;">
                    <button class="btn primary" type="submit" id="sendBtn">Send message</button>
                    <button class="btn" type="button" id="clearBtn">Clear</button>
                  </div>

                  <p id="formStatus" style="margin-top: 10px;"></p>

                  <p style="margin-top: 10px;">
                    <small style="color: var(--muted);">
                      Prefer email? Use the “Email me” button on the left.
                    </small>
                  </p>
                </form>

              </div>
            </div>
          </div>
        </div>

      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <div>© 2026 Dan Ferro</div>
    </div>
  </footer>

  <script>
    const MY_EMAIL = "ferro.t.dan@gmail.com";
    const MY_PHONE = "2623898886"; // clean version for copying

    const emailBtn = document.getElementById("emailBtn");
    const gmailBtn = document.getElementById("gmailBtn");
    const emailText = document.getElementById("emailText");
    const phoneText = document.getElementById("phoneText");

    emailBtn.href = `mailto:${MY_EMAIL}`;
    gmailBtn.href = `https://mail.google.com/mail/?view=cm&fs=1&to=${encodeURIComponent(MY_EMAIL)}`;
    emailText.textContent = MY_EMAIL;
    phoneText.textContent = "262 389 8886";

    const copyEmailBtn = document.getElementById("copyEmailBtn");
    copyEmailBtn.addEventListener("click", async () => {
      try {
        await navigator.clipboard.writeText(MY_EMAIL);
        copyEmailBtn.textContent = "Copied!";
        setTimeout(() => (copyEmailBtn.textContent = "Copy email"), 1200);
      } catch (e) {
        alert("Copy failed — please copy manually: " + MY_EMAIL);
      }
    });

    const copyPhoneBtn = document.getElementById("copyPhoneBtn");
    copyPhoneBtn.addEventListener("click", async () => {
      try {
        await navigator.clipboard.writeText(MY_PHONE);
        copyPhoneBtn.textContent = "Copied!";
        setTimeout(() => (copyPhoneBtn.textContent = "Copy phone"), 1200);
      } catch (e) {
        alert("Copy failed — please copy manually: 262 389 8886");
      }
    });

    const clearBtn = document.getElementById("clearBtn");
    clearBtn.addEventListener("click", () => {
      document.getElementById("name").value = "";
      document.getElementById("fromEmail").value = "";
      document.getElementById("message").value = "";
      const status = document.getElementById("formStatus");
      status.textContent = "";
    });

    const contactForm = document.getElementById("contactForm");
    const formStatus = document.getElementById("formStatus");
    const sendBtn = document.getElementById("sendBtn");

    contactForm.addEventListener("submit", async (e) => {
      const action = contactForm.getAttribute("action") || "";
      if (action.includes("YOUR_FORMSPREE_ID")) {
        e.preventDefault();
        formStatus.style.color = "var(--muted)";
        formStatus.textContent = "Setup needed: replace YOUR_FORMSPREE_ID in the form action (Formspree).";
        return;
      }

      e.preventDefault();
      sendBtn.disabled = true;
      sendBtn.textContent = "Sending…";
      formStatus.style.color = "var(--muted)";
      formStatus.textContent = "";

      try {
        const formData = new FormData(contactForm);
        const res = await fetch(contactForm.action, {
          method: "POST",
          body: formData,
          headers: { "Accept": "application/json" }
        });

        if (res.ok) {
          formStatus.style.color = "var(--text)";
          formStatus.textContent = "Message sent — I’ll get back to you soon.";
          contactForm.reset();
        } else {
          formStatus.style.color = "var(--muted)";
          formStatus.textContent = "Something went wrong. Please use the Email button on the left.";
        }
      } catch (err) {
        formStatus.style.color = "var(--muted)";
        formStatus.textContent = "Network issue. Please use the Email button on the left.";
      } finally {
        sendBtn.disabled = false;
        sendBtn.textContent = "Send message";
      }
    });
  </script>
</body>
</html>

