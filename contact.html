<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Contact | Dan Ferro</title>
  <link rel="stylesheet" href="css/styles.css" />
</head>

<body>
  <header class="site-header">
    <div class="container">
      <nav class="nav">
        <a class="brand" href="index.html">
          <span class="brand-dot"></span>
          <span>Dan Ferro</span>
        </a>
        <div class="nav-links">
          <a href="index.html">Home</a>
          <a href="projects.html">Projects</a>
          <a href="about.html">About</a>
          <a href="resume.html">Resume</a>
          <a href="contact.html" aria-current="page">Contact</a>
        </div>
      </nav>
    </div>
  </header>

  <main>
    <section class="section">
      <div class="container">
        <div class="kicker">Get in touch</div>
        <h1>Contact</h1>
        <p>Email is the best way to reach me. You can also send a quick message below.</p>

        <div class="grid" style="margin-top: 18px;">
          <div class="col-6">
            <div class="card">
              <div class="card-pad">
                <h2>Email</h2>
                <p>If you’d like to talk about a project, opportunity, or have a question, feel free to reach out.</p>

                <div class="btn-row">
                  <a class="btn primary" id="emailBtn" href="mailto:ferro.t.dan@gmail.com">Email me</a>
                  <a
                    class="btn"
                    id="gmailBtn"
                    target="_blank"
                    rel="noopener"
                    href="https://mail.google.com/mail/?view=cm&fs=1&to=ferro.t.dan@gmail.com"
                  >
                    Open in Gmail
                  </a>
                  <button class="btn" type="button" id="copyEmailBtn">Copy email</button>
                </div>

                <p style="margin-top: 12px;">
                  <small>Email:</small>
                  <code id="emailText">ferro.t.dan@gmail.com</code>
                </p>

                <p style="margin-top: 8px;">
                  <small>Phone:</small>
                  <code id="phoneText">262 389 8886</code>
                </p>

                <div class="btn-row" style="margin-top: 8px;">
                  <button class="btn" type="button" id="copyPhoneBtn">Copy phone</button>
                </div>
              </div>
            </div>
          </div>

          <div class="col-6">
            <div class="card">
              <div class="card-pad">
                <h2>Quick message</h2>
                <p>Send a short message and I’ll get back to you.</p>

                <form id="contactForm" action="https://formspree.io/f/xnjnebgj" method="POST">
                  <div class="form-row">
                    <input
                      name="name"
                      id="name"
                      type="text"
                      placeholder="Your name"
                      required
                    />
                    <input
                      name="email"
                      id="fromEmail"
                      type="email"
                      placeholder="Your email"
                      required
                    />
                    <textarea
                      name="message"
                      id="message"
                      placeholder="Your message"
                      required
                    ></textarea>
                  </div>

                  <input type="hidden" name="_subject" value="Portfolio inquiry" />

                  <div class="btn-row" style="margin-top: 12px;">
                    <button class="btn primary" type="submit" id="sendBtn">Send message</button>
                    <button class="btn" type="button" id="clearBtn">Clear</button>
                  </div>

                  <p id="formStatus" style="margin-top: 10px;" aria-live="polite"></p>

                  <p style="margin-top: 8px;">
                    <small style="color: var(--muted);">
                      Prefer email? You can reach me directly using the Email me button.
                    </small>
                  </p>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container">
      <div>© 2026 Dan Ferro</div>
    </div>
  </footer>

  <script>
    const MY_EMAIL = "ferro.t.dan@gmail.com";
    const MY_PHONE = "2623898886";

    document.getElementById("emailText").textContent = MY_EMAIL;
    document.getElementById("phoneText").textContent = "262 389 8886";

    document.getElementById("copyEmailBtn").addEventListener("click", async () => {
      try {
        await navigator.clipboard.writeText(MY_EMAIL);
        const btn = event.target;
        btn.textContent = "Copied!";
        setTimeout(() => (btn.textContent = "Copy email"), 1200);
      } catch {
        alert("Copy failed. Please copy manually.");
      }
    });

    document.getElementById("copyPhoneBtn").addEventListener("click", async () => {
      try {
        await navigator.clipboard.writeText(MY_PHONE);
        const btn = event.target;
        btn.textContent = "Copied!";
        setTimeout(() => (btn.textContent = "Copy phone"), 1200);
      } catch {
        alert("Copy failed. Please copy manually.");
      }
    });

    document.getElementById("clearBtn").addEventListener("click", () => {
      document.getElementById("contactForm").reset();
      document.getElementById("formStatus").textContent = "";
    });

    const contactForm = document.getElementById("contactForm");
    const formStatus = document.getElementById("formStatus");
    const sendBtn = document.getElementById("sendBtn");

    contactForm.addEventListener("submit", async (e) => {
      e.preventDefault();
      sendBtn.disabled = true;
      sendBtn.textContent = "Sending…";
      formStatus.textContent = "";

      try {
        const res = await fetch(contactForm.action, {
          method: "POST",
          body: new FormData(contactForm),
          headers: { Accept: "application/json" }
        });

        if (res.ok) {
          formStatus.textContent = "Message sent — I’ll get back to you soon.";
          contactForm.reset();
        } else {
          formStatus.textContent = "Something went wrong. Please use email instead.";
        }
      } catch {
        formStatus.textContent = "Network error. Please use email instead.";
      } finally {
        sendBtn.disabled = false;
        sendBtn.textContent = "Send message";
      }
    });
  </script>
</body>
</html>
